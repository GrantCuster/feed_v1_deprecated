
          window.__NEXT_REGISTER_PAGE('/', function() {
            var comp = module.exports=webpackJsonp([4],{128:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(36),r=l(n),u=a(85),i=l(u),s=a(8),o=l(s),d=a(20),f=l(d),c=a(19),p=l(c),m=a(2),h=l(m),v=a(10),g=l(v),y=a(3),E=l(y),_=a(9),w=l(_),k=a(0),I=l(k),x=a(46),q=l(x),b=a(25),D=l(b),S=(a(35),a(18)),F=l(S),N=a(77),P=l(N),A=a(24),W=l(A),j=a(47),M=l(j),O=function(e){function t(){(0,h.default)(this,t);var e=(0,g.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.state={scrollPosition:0,max_pages:!1},e.handleInterval=e.handleInterval.bind(e),e.handleRequestAnimationFrame=e.handleRequestAnimationFrame.bind(e),e}return(0,w.default)(t,e),(0,E.default)(t,null,[{key:"getInitialProps",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(f.default.mark(function e(t){var a,l,n,r=t.req;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0,a=r?"http://"+r.headers.host:window.location.origin,e.next=4,(0,q.default)(a+"/static/feed_posts.json");case 4:return l=e.sent,e.next=7,l.json();case 7:return n=e.sent,e.abrupt("return",{feed_posts:n});case 9:case"end":return e.stop()}},e,this)}));return e}()}]),(0,E.default)(t,[{key:"componentDidMount",value:function(){this.intervalID=setInterval(this.handleInterval,100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID),cancelAnimationFrame(this.requestID),this.requestID=null,this.intervalID=null}},{key:"getWindowScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"handleInterval",value:function(){cancelAnimationFrame(this.requestID),this.requestID=requestAnimationFrame(this.handleRequestAnimationFrame)}},{key:"handleRequestAnimationFrame",value:function(){var e=this.props.url,t=e.query,a=this.state.scrollPosition,l=this.getWindowScrollTop();if(l!==a){this.setState({scrollPosition:l});var n=0;t.page&&(n=parseInt(t.page));if(l>document.body.clientHeight-4*window.innerHeight){var u=n+1;u>this.state.max_pages&&this.setState({max_pages:u})}for(var s=document.querySelectorAll(".posts-page"),o=(0,i.default)(s).map(function(e){return e.offsetTop}).reverse(),d=0,f=0;f<o.length;f++){if(l>o[f]){d=o.length-(f+1);break}}if(n!==d)if(0===d){var c=(0,r.default)({},t);delete c.page,M.default.replace({pathname:"/",query:c})}else{var p=(0,r.default)({},t,{page:d});M.default.replace({pathname:"/",query:p})}}}},{key:"displayPosts",value:function(e){var t=this.props.url,a=t.query,l=0;!1!==this.state.max_pages?l=this.state.max_pages:a.page&&(l=parseInt(a.page));for(var n=l+1,r=[],u=0;u<n;u++)r.push(e.slice(20*u,20*(u+1)));return I.default.createElement("div",null,r.map(function(e,t){return I.default.createElement("div",{key:"page_"+t,className:"posts-page","data-page-num":t},e.map(function(e){return I.default.createElement(P.default,{key:e.posted,post:e,layout:"post"})}))}))}},{key:"render",value:function(){var e=this.props,t=e.feed_posts,a=e.url,l=a.query,n=t.slice(0);return!l.filter||"work"!==l.filter&&"inspiration"!==l.filter||(n=n.filter(function(e){return e.type===l.filter})),I.default.createElement("div",null,I.default.createElement(W.default,null,I.default.createElement("title",null,"Grant Custer → Feed")),I.default.createElement(F.default,{url:a}),I.default.createElement("div",{className:"center mb3"},I.default.createElement("h1",null,I.default.createElement(D.default,{href:"/"},I.default.createElement("a",{className:"no-underline"},"Feed")))),I.default.createElement("div",{className:"flex justify-between px2 mb4"},I.default.createElement("div",null,l.filter&&"work"===l.filter?I.default.createElement(D.default,{href:"/"},I.default.createElement("a",null,"Show Inspiration")):l.filter&&"inspiration"===l.filter?"↓ Filter: Inspiration":I.default.createElement(D.default,{href:"/?filter=inspiration",title:"Show inspiration only"},I.default.createElement("a",{className:"no-underline hover-underline"},"↓ Inspiration"))),I.default.createElement("div",null,l.filter&&"inspiration"===l.filter?I.default.createElement(D.default,{href:"/"},I.default.createElement("a",null,"Show Work")):l.filter&&"work"===l.filter?"Filter: Work ↓":I.default.createElement(D.default,{href:"/?filter=work",title:"Show work only"},I.default.createElement("a",{className:"no-underline hover-underline"},"Work ↓")))),I.default.createElement("div",null,this.displayPosts(n)))}}]),t}(I.default.Component);t.default=O},317:function(e,t,a){e.exports=a(128)},35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.slugDate=function(e){return new Date(e).toISOString().replace(/-/g,"").replace(/:/g,"").replace(/\./g,"")}},77:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),u=a(25),i=l(u),s=a(35);t.default=function(e){var t=e.post,a=e.layout,l=(0,s.slugDate)(t.posted);return r.default.createElement("div",{className:"feed-post post-"+t.type+" mb4",key:t.posted},r.default.createElement("div",{className:"mb2 px2"},"post"===a?r.default.createElement(i.default,{href:"/feed_post_page?date_slug="+l,as:"/post/"+l},r.default.createElement("a",{className:"no-underline hover-underline"},new Date(t.posted).toLocaleString())):new Date(t.posted).toLocaleString()),r.default.createElement("img",{style:{maxHeight:"post"===a?"calc(80vh)":"none",maxWidth:"post"===a?"calc(100vw - 1rem)":"100%"},src:""+t.img,title:t.text,alt:t.text}),t.src?r.default.createElement("div",{className:"mt2 px2"},r.default.createElement("a",{href:t.src},t.src)):null)}}},[317]);
            return { page: comp.default }
          })
        